<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Kotlin 技术月报 | 2023 年 6 月 | 北京 KUG</title><meta name=keywords content="技术月报"><meta name=description content="为了帮助社区的小伙伴们更好地了解 Kotlin 相关的最新动态，我们决定尝试使用月报的形式，整理展示最近一个月的 Kotlin 技术动态。
月报的主要内容包括：整理展示最近一个月的最新技术动态，精选博客，精选视频，社区活动等
最新动态 Kotlin 1.9.0-RC 版本发布 What&rsquo;s new in Kotlin 1.9.0-RC：Kotlin 1.9.0-RC 版本已发布，主要包括以下内容
持续完善 Kotlin K2 编译器，添加了对 Kotlin/Native 后端的支持 在枚举类中推荐使用entries属性代替values()方法进行遍历 1.7.20 版本引入的..<操作符成为稳定 API 提供了一个用于根据名称获取正则表达式capture group的新 API 提供了一个新的扩展函数createParentDirectories，可用于创建带有必要父目录的新文件，如果目录已存在，则不操作，否则创建目录 Kotlin 跨平台 Gradle 插件支持配置缓存 Google 的 Android 团队将提供自己的 Gradle 插件来支持 Kotlin Multiplatform 中的 Android Target Kotlin/Native 在访问 object 单例的 const val 字段时将不再初始化 object 精选博客 Kotlin 中的函数式编程：探索 Monad 及其实际用例 Kotlin 是一门从一开始就支持函数式编程的语言，而 Monad 是函数式编程中的一个重要概念，本文主要介绍了 Monad 是什么，在 Kotlin 函数式编程中如何使用它们，以及一些 Monad 的实际应用案例。
Monad 的概念看起来有些难以理解， 关于 Monad 到底是什么也可以参考灰蓝天际大佬翻译的： Kotlin 版图解 Functor、Applicative 与 Monad"><meta name=author content="beijing-kug"><link rel=canonical href=https://beijing-kug.github.io/news/kotlin-news-2023-06/><link crossorigin=anonymous href=/assets/css/stylesheet.8f39c56ff9c568320c772f590aacdf29f8e8f17c0d9623de1a80621f8b933a96.css integrity="sha256-jznFb/nFaDIMdy9ZCqzfKfjo8XwNliPeGoBiH4uTOpY=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://beijing-kug.github.io/kug-logo.png><link rel=icon type=image/png sizes=16x16 href=https://beijing-kug.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://beijing-kug.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://beijing-kug.github.io/apple-touch-icon.png><link rel=mask-icon href=https://beijing-kug.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Kotlin 技术月报 | 2023 年 6 月"><meta property="og:description" content="为了帮助社区的小伙伴们更好地了解 Kotlin 相关的最新动态，我们决定尝试使用月报的形式，整理展示最近一个月的 Kotlin 技术动态。
月报的主要内容包括：整理展示最近一个月的最新技术动态，精选博客，精选视频，社区活动等
最新动态 Kotlin 1.9.0-RC 版本发布 What&rsquo;s new in Kotlin 1.9.0-RC：Kotlin 1.9.0-RC 版本已发布，主要包括以下内容
持续完善 Kotlin K2 编译器，添加了对 Kotlin/Native 后端的支持 在枚举类中推荐使用entries属性代替values()方法进行遍历 1.7.20 版本引入的..<操作符成为稳定 API 提供了一个用于根据名称获取正则表达式capture group的新 API 提供了一个新的扩展函数createParentDirectories，可用于创建带有必要父目录的新文件，如果目录已存在，则不操作，否则创建目录 Kotlin 跨平台 Gradle 插件支持配置缓存 Google 的 Android 团队将提供自己的 Gradle 插件来支持 Kotlin Multiplatform 中的 Android Target Kotlin/Native 在访问 object 单例的 const val 字段时将不再初始化 object 精选博客 Kotlin 中的函数式编程：探索 Monad 及其实际用例 Kotlin 是一门从一开始就支持函数式编程的语言，而 Monad 是函数式编程中的一个重要概念，本文主要介绍了 Monad 是什么，在 Kotlin 函数式编程中如何使用它们，以及一些 Monad 的实际应用案例。
Monad 的概念看起来有些难以理解， 关于 Monad 到底是什么也可以参考灰蓝天际大佬翻译的： Kotlin 版图解 Functor、Applicative 与 Monad"><meta property="og:type" content="article"><meta property="og:url" content="https://beijing-kug.github.io/news/kotlin-news-2023-06/"><meta property="article:section" content="news"><meta property="article:published_time" content="2023-06-30T00:00:00+00:00"><meta property="article:modified_time" content="2023-06-30T00:00:00+00:00"><meta property="og:site_name" content="北京 KUG"><meta name=twitter:card content="summary"><meta name=twitter:title content="Kotlin 技术月报 | 2023 年 6 月"><meta name=twitter:description content="为了帮助社区的小伙伴们更好地了解 Kotlin 相关的最新动态，我们决定尝试使用月报的形式，整理展示最近一个月的 Kotlin 技术动态。
月报的主要内容包括：整理展示最近一个月的最新技术动态，精选博客，精选视频，社区活动等
最新动态 Kotlin 1.9.0-RC 版本发布 What&rsquo;s new in Kotlin 1.9.0-RC：Kotlin 1.9.0-RC 版本已发布，主要包括以下内容
持续完善 Kotlin K2 编译器，添加了对 Kotlin/Native 后端的支持 在枚举类中推荐使用entries属性代替values()方法进行遍历 1.7.20 版本引入的..<操作符成为稳定 API 提供了一个用于根据名称获取正则表达式capture group的新 API 提供了一个新的扩展函数createParentDirectories，可用于创建带有必要父目录的新文件，如果目录已存在，则不操作，否则创建目录 Kotlin 跨平台 Gradle 插件支持配置缓存 Google 的 Android 团队将提供自己的 Gradle 插件来支持 Kotlin Multiplatform 中的 Android Target Kotlin/Native 在访问 object 单例的 const val 字段时将不再初始化 object 精选博客 Kotlin 中的函数式编程：探索 Monad 及其实际用例 Kotlin 是一门从一开始就支持函数式编程的语言，而 Monad 是函数式编程中的一个重要概念，本文主要介绍了 Monad 是什么，在 Kotlin 函数式编程中如何使用它们，以及一些 Monad 的实际应用案例。
Monad 的概念看起来有些难以理解， 关于 Monad 到底是什么也可以参考灰蓝天际大佬翻译的： Kotlin 版图解 Functor、Applicative 与 Monad"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"News","item":"https://beijing-kug.github.io/news/"},{"@type":"ListItem","position":2,"name":"Kotlin 技术月报 | 2023 年 6 月","item":"https://beijing-kug.github.io/news/kotlin-news-2023-06/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Kotlin 技术月报 | 2023 年 6 月","name":"Kotlin 技术月报 | 2023 年 6 月","description":"为了帮助社区的小伙伴们更好地了解 Kotlin 相关的最新动态，我们决定尝试使用月报的形式，整理展示最近一个月的 Kotlin 技术动态。\n月报的主要内容包括：整理展示最近一个月的最新技术动态，精选博客，精选视频，社区活动等\n最新动态 Kotlin 1.9.0-RC 版本发布 What\u0026rsquo;s new in Kotlin 1.9.0-RC：Kotlin 1.9.0-RC 版本已发布，主要包括以下内容\n持续完善 Kotlin K2 编译器，添加了对 Kotlin/Native 后端的支持 在枚举类中推荐使用entries属性代替values()方法进行遍历 1.7.20 版本引入的..\u0026lt;操作符成为稳定 API 提供了一个用于根据名称获取正则表达式capture group的新 API 提供了一个新的扩展函数createParentDirectories，可用于创建带有必要父目录的新文件，如果目录已存在，则不操作，否则创建目录 Kotlin 跨平台 Gradle 插件支持配置缓存 Google 的 Android 团队将提供自己的 Gradle 插件来支持 Kotlin Multiplatform 中的 Android Target Kotlin/Native 在访问 object 单例的 const val 字段时将不再初始化 object 精选博客 Kotlin 中的函数式编程：探索 Monad 及其实际用例 Kotlin 是一门从一开始就支持函数式编程的语言，而 Monad 是函数式编程中的一个重要概念，本文主要介绍了 Monad 是什么，在 Kotlin 函数式编程中如何使用它们，以及一些 Monad 的实际应用案例。\nMonad 的概念看起来有些难以理解， 关于 Monad 到底是什么也可以参考灰蓝天际大佬翻译的： Kotlin 版图解 Functor、Applicative 与 Monad","keywords":["技术月报"],"articleBody":"为了帮助社区的小伙伴们更好地了解 Kotlin 相关的最新动态，我们决定尝试使用月报的形式，整理展示最近一个月的 Kotlin 技术动态。\n月报的主要内容包括：整理展示最近一个月的最新技术动态，精选博客，精选视频，社区活动等\n最新动态 Kotlin 1.9.0-RC 版本发布 What’s new in Kotlin 1.9.0-RC：Kotlin 1.9.0-RC 版本已发布，主要包括以下内容\n持续完善 Kotlin K2 编译器，添加了对 Kotlin/Native 后端的支持 在枚举类中推荐使用entries属性代替values()方法进行遍历 1.7.20 版本引入的..\u003c操作符成为稳定 API 提供了一个用于根据名称获取正则表达式capture group的新 API 提供了一个新的扩展函数createParentDirectories，可用于创建带有必要父目录的新文件，如果目录已存在，则不操作，否则创建目录 Kotlin 跨平台 Gradle 插件支持配置缓存 Google 的 Android 团队将提供自己的 Gradle 插件来支持 Kotlin Multiplatform 中的 Android Target Kotlin/Native 在访问 object 单例的 const val 字段时将不再初始化 object 精选博客 Kotlin 中的函数式编程：探索 Monad 及其实际用例 Kotlin 是一门从一开始就支持函数式编程的语言，而 Monad 是函数式编程中的一个重要概念，本文主要介绍了 Monad 是什么，在 Kotlin 函数式编程中如何使用它们，以及一些 Monad 的实际应用案例。\nMonad 的概念看起来有些难以理解， 关于 Monad 到底是什么也可以参考灰蓝天际大佬翻译的： Kotlin 版图解 Functor、Applicative 与 Monad\n使用 ParallelGC 加快 Kotlin 编译速度，并减少内存占用 JDK 17: Using ParallelGC for the Kotlin process in Android Builds\n我们知道 Kotlin 编译过程中守护进程会占据大量的内存，这其中不可避免的会发生 GC，因此不同的垃圾回收策略也会影响 Kotlin 编译速度\n本文分别使用 G1 垃圾回收器与并行垃圾回收器编译 nowinandroid 项目，对比数据如下：\nKotlin 编译任务耗时减少了22% Kotlin 进程的垃圾回收器耗时减少了60% Kotlin进程内存使用量减少了51% 当然不同项目的测试结果可能不同，数据仅供参考。不过 Android 文档中的优化构建速度指南也推荐我们使用并发垃圾回收器，因此感兴趣的同学也可以尝试下，看看与本文的测试数据是否一致\nKotlin 编译器介绍 Crash Course on the Kotlin Compiler | K1 + K2 Frontends, Backends\n本文介绍了 Kotlin 编译的总体流程，包括 K1 和 K2 两个编译器前端的异同特点，以及编译器前端产物是如何通过 JVM、JS、Native 和 WASM 四个编译器后端，来生成相应的目标产物的。\n同时我们知道 K2 编译器前端比起 k1 编译器前端在性能上有了很大的提升，本文也介绍了 K1 编译器前端的主要性能问题在于非常糟糕的代码局部性和内存局部性。所有的descriptors都是惰性的，因此编译器总是在不同部分的代码之间跳转，从而破坏了 JIT 优化的数量。此外，解析的所有信息都存储在一个大的 Map（BindingContext）中，因此 CPU 不能充分缓存对象。\n从Kotlin中return@forEach了个寂寞 本文探讨了 Kotlin forEach 中一个容易出错的细节，在 Kotlin 语言中，return@forEach 的作用类似于 continue 而不是 break。文章解释了其背后的原理，并提供了一个相应的解决方案。\n(1..7).forEach { if (it == 3) { return@forEach // 相当于 continue 而不是 break } Log.d(\"xys\", \"Num: $it\") } 如何使用 Kotlin 技术栈构建一个播客网站 《Kotlin 炉边漫谈》是一个讨论 Kotlin 相关资讯的中文播客，播客网站现已上线：Kotlin 炉边漫谈官方网站\n该网站使用 Kotlin 技术栈构建，包括前端展示，后端云函数接口，数据爬虫获取与播放数据图表分析等功能。目前前端部分仍然是由 js 框架构建，后续在 Kotlin/WASM 成熟后或许可以弥补这一缺憾。同时后续也将推出 Kotlin 跨平台移动端 app，敬请期待。\n这个例子是 Kotlin 端到端解决方案的一个很好的示范，详情可见：how I make a podcast website using serverless technology in 2023\nKotlin 动态化框架 Zipline Dynamic Kotlin with Zipline\nZipline 是 Cash 公司开源的一款 Kotlin 动态化框架，借助这个框架，我们可以使用 Kotlin 编写功能和业务逻辑，并将它们动态推送给用户，免去了对应用发版的依赖。\nZipline 基于 Kotlin 跨平台构建，目前 1.0 版本是通过 Kotlin/Js 后端将 Kotlin 代码编译成 Js 代码，Js 代码发送到端上后通过 QuickJs 引擎执行。需要注意的是，编译成 Js 代码仅是 Zipline 内部的一个实现细节，因此在后续的迭代中可以方便地替换，在 Zipline 2.0 中将会切换到 WebAssembly。\nZipline 不仅可以动态更新业务逻辑，通过与 Compose 跨平台框架 Redwood 结合，也可以实现动态更新 UI，详情可见 Jake Wharton 大神在 KotlinConf 上的分享： Playing in the Treehouse with Redwood and Zipline\nRedwood + Zipline = Treehouse = “支持动态化的 Compose 跨平台方案”。这套方案解决了 Kotlin UI 跨平台及动态化两个关键问题，具有很大的想象空间和应用潜力。\n精选视频 Compose 跨平台快速上手 Build Your First Compose Multiplatform App (KMM)\nPhilipp Lackner 是一位在 YouTube 上非常活跃的讲师，主要分享 Kotlin 与 Android 相关的教程。在此视频中，他详细介绍了如何逐步创建一个 Compose 跨平台项目，实现在 Android 和 iOS 平台上共享 UI。\nKotlin 编译成 WebAssembly Kotlin goes WebAssembly!\nKotlin 1.8.20 引入了新的编译后端：WebAssembly，Kotlin 代码通过编译成 WebAssembly ，可以运行在浏览器，Node.js 等环境中。本视频主要介绍了 Wasm 是什么，Kotlin Wasm 的现状与示例，以及其在未来的展望\nCompose 渲染机制介绍 Compose 渲染机制的秘密\n这是由上海 Kotlin 用户组组织者带来的一场精彩分享。在本视频中，您将了解到 Jetpack Compose 是如何在屏幕上绘制的，同时还会介绍 Skia 引擎与 OpenGL ES、Vulkan 等图形 API 之间的关系以及 Compose-Multiplatform 在各个平台上的渲染方式。\n","wordCount":"343","inLanguage":"en","datePublished":"2023-06-30T00:00:00Z","dateModified":"2023-06-30T00:00:00Z","author":{"@type":"Person","name":"beijing-kug"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://beijing-kug.github.io/news/kotlin-news-2023-06/"},"publisher":{"@type":"Organization","name":"北京 KUG","logo":{"@type":"ImageObject","url":"https://beijing-kug.github.io/kug-logo.png"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://beijing-kug.github.io/ accesskey=h title="北京 KUG (Alt + H)">北京 KUG</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://beijing-kug.github.io/events/ title=分享会><span>分享会</span></a></li><li><a href=https://kotlinlang.org/ title="Kotlin 官方"><span>Kotlin 官方</span></a></li><li><a href=https://www.kotlincn.net/ title=中文文档><span>中文文档</span></a></li><li><a href=https://beijing-kug.github.io/news/ title=技术月报><span>技术月报</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://beijing-kug.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://beijing-kug.github.io/news/>News</a></div><h1 class=post-title>Kotlin 技术月报 | 2023 年 6 月</h1><div class=post-meta><span title='2023-06-30 00:00:00 +0000 UTC'>June 30, 2023</span>&nbsp;·&nbsp;beijing-kug</div></header><div class=post-content><p>为了帮助社区的小伙伴们更好地了解 Kotlin 相关的最新动态，我们决定尝试使用月报的形式，整理展示最近一个月的 Kotlin 技术动态。</p><p>月报的主要内容包括：整理展示最近一个月的最新技术动态，精选博客，精选视频，社区活动等</p><h2 id=最新动态>最新动态<a hidden class=anchor aria-hidden=true href=#最新动态>#</a></h2><h3 id=kotlin-190-rc-版本发布>Kotlin 1.9.0-RC 版本发布<a hidden class=anchor aria-hidden=true href=#kotlin-190-rc-版本发布>#</a></h3><p><a href=https://kotlinlang.org/docs/whatsnew-eap.html>What&rsquo;s new in Kotlin 1.9.0-RC</a>：Kotlin 1.9.0-RC 版本已发布，主要包括以下内容</p><ul><li>持续完善 Kotlin K2 编译器，添加了对 Kotlin/Native 后端的支持</li><li>在枚举类中推荐使用<code>entries</code>属性代替<code>values()</code>方法进行遍历</li><li>1.7.20 版本引入的<code>..&lt;</code>操作符成为稳定 API</li><li>提供了一个用于根据名称获取正则表达式<code>capture group</code>的新 API</li><li>提供了一个新的扩展函数<code>createParentDirectories</code>，可用于创建带有必要父目录的新文件，如果目录已存在，则不操作，否则创建目录</li><li>Kotlin 跨平台 Gradle 插件支持配置缓存</li><li>Google 的 Android 团队将提供自己的 Gradle 插件来支持 Kotlin Multiplatform 中的 Android Target</li><li>Kotlin/Native 在访问 object 单例的 const val 字段时将不再初始化 object</li></ul><h2 id=精选博客>精选博客<a hidden class=anchor aria-hidden=true href=#精选博客>#</a></h2><h3 id=kotlin-中的函数式编程探索-monad-及其实际用例httpsmediumcomsummitkumarfunctional-programming-in-kotlin-exploring-monads-and-their-real-world-use-cases-5a8b23be1268><a href=https://medium.com/@summitkumar/functional-programming-in-kotlin-exploring-monads-and-their-real-world-use-cases-5a8b23be1268>Kotlin 中的函数式编程：探索 Monad 及其实际用例</a><a hidden class=anchor aria-hidden=true href=#kotlin-中的函数式编程探索-monad-及其实际用例httpsmediumcomsummitkumarfunctional-programming-in-kotlin-exploring-monads-and-their-real-world-use-cases-5a8b23be1268>#</a></h3><p>Kotlin 是一门从一开始就支持函数式编程的语言，而 Monad 是函数式编程中的一个重要概念，本文主要介绍了 Monad 是什么，在 Kotlin 函数式编程中如何使用它们，以及一些 Monad 的实际应用案例。</p><p>Monad 的概念看起来有些难以理解， 关于 Monad 到底是什么也可以参考灰蓝天际大佬翻译的：
<a href=https://hltj.me/kotlin/2017/08/25/kotlin-functor-applicative-monad-cn.html>Kotlin 版图解 Functor、Applicative 与 Monad</a></p><h3 id=使用-parallelgc-加快-kotlin-编译速度并减少内存占用>使用 ParallelGC 加快 Kotlin 编译速度，并减少内存占用<a hidden class=anchor aria-hidden=true href=#使用-parallelgc-加快-kotlin-编译速度并减少内存占用>#</a></h3><p><a href=https://dev.to/cdsap/jdk-17-using-parellgc-for-the-kotlin-process-in-android-builds-24af>JDK 17: Using ParallelGC for the Kotlin process in Android Builds</a></p><p>我们知道 Kotlin 编译过程中守护进程会占据大量的内存，这其中不可避免的会发生 GC，因此不同的垃圾回收策略也会影响 Kotlin 编译速度</p><p>本文分别使用 G1 垃圾回收器与并行垃圾回收器编译 nowinandroid 项目，对比数据如下：</p><ul><li>Kotlin 编译任务耗时减少了22%</li><li>Kotlin 进程的垃圾回收器耗时减少了60%</li><li>Kotlin进程内存使用量减少了51%</li></ul><p>当然不同项目的测试结果可能不同，数据仅供参考。不过 Android 文档中的优化构建速度指南也推荐我们使用并发垃圾回收器，因此感兴趣的同学也可以尝试下，看看与本文的测试数据是否一致</p><h3 id=kotlin-编译器介绍>Kotlin 编译器介绍<a hidden class=anchor aria-hidden=true href=#kotlin-编译器介绍>#</a></h3><p><a href=https://medium.com/google-developer-experts/crash-course-on-the-kotlin-compiler-k1-k2-frontends-backends-fe2238790bd8>Crash Course on the Kotlin Compiler | K1 + K2 Frontends, Backends</a></p><p>本文介绍了 Kotlin 编译的总体流程，包括 K1 和 K2 两个编译器前端的异同特点，以及编译器前端产物是如何通过 JVM、JS、Native 和 WASM 四个编译器后端，来生成相应的目标产物的。</p><p>同时我们知道 K2 编译器前端比起 k1 编译器前端在性能上有了很大的提升，本文也介绍了 K1 编译器前端的主要性能问题在于非常糟糕的代码局部性和内存局部性。所有的<code>descriptors</code>都是惰性的，因此编译器总是在不同部分的代码之间跳转，从而破坏了 JIT 优化的数量。此外，解析的所有信息都存储在一个大的 Map（<code>BindingContext</code>）中，因此 CPU 不能充分缓存对象。</p><h3 id=从kotlin中returnforeach了个寂寞httpsjuejincnpost7243819009866235964><a href=https://juejin.cn/post/7243819009866235964>从Kotlin中return@forEach了个寂寞</a><a hidden class=anchor aria-hidden=true href=#从kotlin中returnforeach了个寂寞httpsjuejincnpost7243819009866235964>#</a></h3><p>本文探讨了 Kotlin forEach 中一个容易出错的细节，在 Kotlin 语言中，<code>return@forEach</code> 的作用类似于 continue 而不是 break。文章解释了其背后的原理，并提供了一个相应的解决方案。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-kotlin data-lang=kotlin><span class=line><span class=cl><span class=p>(</span><span class=m>1.</span><span class=p>.</span><span class=m>7</span><span class=p>).</span><span class=n>forEach</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=k>it</span> <span class=o>==</span> <span class=m>3</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span><span class=nd>@forEach</span> <span class=c1>// 相当于 continue 而不是 break
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=nc>Log</span><span class=p>.</span><span class=n>d</span><span class=p>(</span><span class=s2>&#34;xys&#34;</span><span class=p>,</span> <span class=s2>&#34;Num: </span><span class=si>$it</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=如何使用-kotlin-技术栈构建一个播客网站>如何使用 Kotlin 技术栈构建一个播客网站<a hidden class=anchor aria-hidden=true href=#如何使用-kotlin-技术栈构建一个播客网站>#</a></h3><p>《Kotlin 炉边漫谈》是一个讨论 Kotlin 相关资讯的中文播客，播客网站现已上线：<a href=https://podcast.kotlin.tips/>Kotlin 炉边漫谈官方网站</a></p><p>该网站使用 Kotlin 技术栈构建，包括前端展示，后端云函数接口，数据爬虫获取与播放数据图表分析等功能。目前前端部分仍然是由 js 框架构建，后续在 Kotlin/WASM 成熟后或许可以弥补这一缺憾。同时后续也将推出 Kotlin 跨平台移动端 app，敬请期待。</p><p>这个例子是 Kotlin 端到端解决方案的一个很好的示范，详情可见：<a href=https://www.slideshare.net/shengyou/how-i-make-a-podcast-website-using-serverless-technology-in-2023>how I make a podcast website using serverless technology in 2023</a></p><p><img loading=lazy src=https://raw.gitmirror.com/RicardoJiang/resource/main/2023/june/p4.jpg alt></p><h3 id=kotlin-动态化框架-zipline>Kotlin 动态化框架 Zipline<a hidden class=anchor aria-hidden=true href=#kotlin-动态化框架-zipline>#</a></h3><p><a href=https://code.cash.app/zipline>Dynamic Kotlin with Zipline</a></p><p>Zipline 是 Cash 公司开源的一款 Kotlin 动态化框架，借助这个框架，我们可以使用 Kotlin 编写功能和业务逻辑，并将它们动态推送给用户，免去了对应用发版的依赖。</p><p>Zipline 基于 Kotlin 跨平台构建，目前 1.0 版本是通过 Kotlin/Js 后端将 Kotlin 代码编译成 Js 代码，Js 代码发送到端上后通过 QuickJs 引擎执行。需要注意的是，编译成 Js 代码仅是 Zipline 内部的一个实现细节，因此在后续的迭代中可以方便地替换，在 Zipline 2.0 中将会切换到 WebAssembly。</p><p>Zipline 不仅可以动态更新业务逻辑，通过与 Compose 跨平台框架 Redwood 结合，也可以实现动态更新 UI，详情可见 Jake Wharton 大神在 KotlinConf 上的分享： <a href=https://kotlinconf.com/talks/466843/>Playing in the Treehouse with Redwood and Zipline</a></p><p>Redwood + Zipline = Treehouse = &ldquo;支持动态化的 Compose 跨平台方案&rdquo;。这套方案解决了 Kotlin UI 跨平台及动态化两个关键问题，具有很大的想象空间和应用潜力。</p><p><img loading=lazy src=https://raw.gitmirror.com/RicardoJiang/resource/main/2023/july/p2.png alt></p><h2 id=精选视频>精选视频<a hidden class=anchor aria-hidden=true href=#精选视频>#</a></h2><h3 id=compose-跨平台快速上手>Compose 跨平台快速上手<a hidden class=anchor aria-hidden=true href=#compose-跨平台快速上手>#</a></h3><p><a href="https://www.youtube.com/watch?v=ZxBUd2TbVGk">Build Your First Compose Multiplatform App (KMM)</a></p><p>Philipp Lackner 是一位在 YouTube 上非常活跃的讲师，主要分享 Kotlin 与 Android 相关的教程。在此视频中，他详细介绍了如何逐步创建一个 Compose 跨平台项目，实现在 Android 和 iOS 平台上共享 UI。</p><h3 id=kotlin-编译成-webassembly>Kotlin 编译成 WebAssembly<a hidden class=anchor aria-hidden=true href=#kotlin-编译成-webassembly>#</a></h3><p><a href="https://www.youtube.com/watch?v=oIbX7nrSTPQ">Kotlin goes WebAssembly!</a></p><p>Kotlin 1.8.20 引入了新的编译后端：WebAssembly，Kotlin 代码通过编译成 WebAssembly ，可以运行在浏览器，Node.js 等环境中。本视频主要介绍了 Wasm 是什么，Kotlin Wasm 的现状与示例，以及其在未来的展望</p><p><img loading=lazy src=https://raw.gitmirror.com/RicardoJiang/resource/main/2023/june/p1.png alt></p><h3 id=compose-渲染机制介绍>Compose 渲染机制介绍<a hidden class=anchor aria-hidden=true href=#compose-渲染机制介绍>#</a></h3><p><a href=https://www.bilibili.com/video/BV1YN411k7Cp/>Compose 渲染机制的秘密</a></p><p>这是由上海 Kotlin 用户组组织者带来的一场精彩分享。在本视频中，您将了解到 Jetpack Compose 是如何在屏幕上绘制的，同时还会介绍 Skia 引擎与 OpenGL ES、Vulkan 等图形 API 之间的关系以及 Compose-Multiplatform 在各个平台上的渲染方式。</p><p><img loading=lazy src=https://raw.gitmirror.com/RicardoJiang/resource/main/2023/july/p1.png alt></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://beijing-kug.github.io/tags/%E6%8A%80%E6%9C%AF%E6%9C%88%E6%8A%A5/>技术月报</a></li></ul><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share Kotlin 技术月报 | 2023 年 6 月 on twitter" href="https://twitter.com/intent/tweet/?text=Kotlin%20%e6%8a%80%e6%9c%af%e6%9c%88%e6%8a%a5%20%7c%202023%20%e5%b9%b4%206%20%e6%9c%88&amp;url=https%3a%2f%2fbeijing-kug.github.io%2fnews%2fkotlin-news-2023-06%2f&amp;hashtags=%e6%8a%80%e6%9c%af%e6%9c%88%e6%8a%a5"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Kotlin 技术月报 | 2023 年 6 月 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fbeijing-kug.github.io%2fnews%2fkotlin-news-2023-06%2f&amp;title=Kotlin%20%e6%8a%80%e6%9c%af%e6%9c%88%e6%8a%a5%20%7c%202023%20%e5%b9%b4%206%20%e6%9c%88&amp;summary=Kotlin%20%e6%8a%80%e6%9c%af%e6%9c%88%e6%8a%a5%20%7c%202023%20%e5%b9%b4%206%20%e6%9c%88&amp;source=https%3a%2f%2fbeijing-kug.github.io%2fnews%2fkotlin-news-2023-06%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Kotlin 技术月报 | 2023 年 6 月 on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fbeijing-kug.github.io%2fnews%2fkotlin-news-2023-06%2f&title=Kotlin%20%e6%8a%80%e6%9c%af%e6%9c%88%e6%8a%a5%20%7c%202023%20%e5%b9%b4%206%20%e6%9c%88"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Kotlin 技术月报 | 2023 年 6 月 on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fbeijing-kug.github.io%2fnews%2fkotlin-news-2023-06%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Kotlin 技术月报 | 2023 年 6 月 on whatsapp" href="https://api.whatsapp.com/send?text=Kotlin%20%e6%8a%80%e6%9c%af%e6%9c%88%e6%8a%a5%20%7c%202023%20%e5%b9%b4%206%20%e6%9c%88%20-%20https%3a%2f%2fbeijing-kug.github.io%2fnews%2fkotlin-news-2023-06%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Kotlin 技术月报 | 2023 年 6 月 on telegram" href="https://telegram.me/share/url?text=Kotlin%20%e6%8a%80%e6%9c%af%e6%9c%88%e6%8a%a5%20%7c%202023%20%e5%b9%b4%206%20%e6%9c%88&amp;url=https%3a%2f%2fbeijing-kug.github.io%2fnews%2fkotlin-news-2023-06%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://beijing-kug.github.io/>北京 KUG</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>